<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 650">
  <!-- BNC Input -->
  <circle cx="50" cy="100" r="15" fill="none" stroke="black" stroke-width="2"/>
  <text x="30" y="130" font-size="12">BNC Trigger</text>
  
  <!-- Debounce Circuit -->
  <rect x="100" y="80" width="60" height="40" fill="none" stroke="black" stroke-width="2"/>
  <text x="105" y="105" font-size="12">Debounce</text>
  
  <!-- CD4017 Counter -->
  <rect x="200" y="60" width="80" height="80" fill="none" stroke="black" stroke-width="2"/>
  <text x="210" y="85" font-size="14">CD4017</text>
  <text x="205" y="105" font-size="12">Counter</text>
  <text x="205" y="125" font-size="10">Q0</text>
  <text x="245" y="125" font-size="10">Q1</text>
  
  <!-- Multiplexers -->
  <rect x="350" y="40" width="100" height="80" fill="none" stroke="black" stroke-width="2"/>
  <text x="360" y="65" font-size="14">CD4052</text>
  <text x="375" y="85" font-size="12">MUX1</text>
  <rect x="350" y="140" width="100" height="80" fill="none" stroke="black" stroke-width="2"/>
  <text x="360" y="165" font-size="14">CD4052</text>
  <text x="375" y="185" font-size="12">MUX2</text>
  <rect x="350" y="240" width="100" height="80" fill="none" stroke="black" stroke-width="2"/>
  <text x="360" y="265" font-size="14">CD4052</text>
  <text x="375" y="285" font-size="12">MUX3</text>
  
  <!-- Connections -->
  <line x1="65" y1="100" x2="100" y2="100" stroke="blue" stroke-width="2"/>
  <line x1="160" y1="100" x2="200" y2="100" stroke="blue" stroke-width="2"/>
  <line x1="280" y1="115" x2="350" y2="70" stroke="purple" stroke-width="2"/>
  <line x1="280" y1="125" x2="350" y2="170" stroke="purple" stroke-width="2"/>
  <line x1="280" y1="125" x2="350" y2="270" stroke="purple" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Stim Input -->
  <text x="20" y="350" font-size="14" fill="red">Stim+</text>
  <text x="20" y="390" font-size="14" fill="blue">Stim-</text>
  <line x1="70" y1="350" x2="340" y2="350" stroke="red" stroke-width="2"/>
  <line x1="340" y1="350" x2="340" y2="60" stroke="red" stroke-width="2"/>
  <line x1="340" y1="350" x2="340" y2="160" stroke="red" stroke-width="2"/>
  <line x1="340" y1="350" x2="340" y2="260" stroke="red" stroke-width="2"/>
  <line x1="70" y1="390" x2="330" y2="390" stroke="blue" stroke-width="2"/>
  <line x1="330" y1="390" x2="330" y2="80" stroke="blue" stroke-width="2"/>
  <line x1="330" y1="390" x2="330" y2="180" stroke="blue" stroke-width="2"/>
  <line x1="330" y1="390" x2="330" y2="280" stroke="blue" stroke-width="2"/>
  
  <!-- Outputs -->
  <text x="700" y="50" font-size="12">O1</text>
  <text x="700" y="80" font-size="12">Oz</text>
  <text x="700" y="110" font-size="12">O2</text>
  <text x="700" y="150" font-size="12">CPz</text>
  <text x="700" y="180" font-size="12">CP5</text>
  <text x="700" y="210" font-size="12">CP6</text>
  <text x="700" y="250" font-size="12">L Cheek</text>
  <text x="700" y="280" font-size="12">R Cheek</text>
  
  <line x1="450" y1="50" x2="690" y2="50" stroke="green" stroke-width="2"/>
  <line x1="450" y1="80" x2="690" y2="80" stroke="green" stroke-width="2"/>
  <line x1="450" y1="110" x2="690" y2="110" stroke="green" stroke-width="2"/>
  <line x1="450" y1="150" x2="690" y2="150" stroke="green" stroke-width="2"/>
  <line x1="450" y1="180" x2="690" y2="180" stroke="green" stroke-width="2"/>
  <line x1="450" y1="210" x2="690" y2="210" stroke="green" stroke-width="2"/>
  <line x1="450" y1="250" x2="690" y2="250" stroke="green" stroke-width="2"/>
  <line x1="450" y1="280" x2="690" y2="280" stroke="green" stroke-width="2"/>
  
  <!-- Power Supply -->
  <line x1="10" y1="510" x2="790" y2="510" stroke="red" stroke-width="2"/>
  <text x="20" y="505" font-size="12" fill="red">VCC (+5V)</text>
  <line x1="10" y1="540" x2="790" y2="540" stroke="black" stroke-width="2"/>
  <text x="20" y="535" font-size="12">GND</text>
  
  <!-- Power Connections -->
  <line x1="240" y1="60" x2="240" y2="510" stroke="red" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="400" y1="40" x2="400" y2="510" stroke="red" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="400" y1="140" x2="400" y2="510" stroke="red" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="400" y1="240" x2="400" y2="510" stroke="red" stroke-width="2" stroke-dasharray="5,5"/>
  
  <line x1="260" y1="140" x2="260" y2="540" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="420" y1="120" x2="420" y2="540" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="420" y1="220" x2="420" y2="540" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="420" y1="320" x2="420" y2="540" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Legend (moved to bottom) -->
  <rect x="10" y="570" width="780" height="70" fill="none" stroke="black"/>
  <text x="20" y="590" font-size="14" font-weight="bold">Legend</text>
  <line x1="20" y1="605" x2="60" y2="605" stroke="blue" stroke-width="2"/>
  <text x="70" y="610" font-size="12">Trigger Signal</text>
  <line x1="180" y1="605" x2="220" y2="605" stroke="purple" stroke-width="2"/>
  <text x="230" y="610" font-size="12">Control Signal</text>
  <line x1="340" y1="605" x2="380" y2="605" stroke="red" stroke-width="2"/>
  <text x="390" y="610" font-size="12">Stim+ Signal</text>
  <line x1="490" y1="605" x2="530" y2="605" stroke="blue" stroke-width="2"/>
  <text x="540" y="610" font-size="12">Stim- Signal</text>
  <line x1="640" y1="605" x2="680" y2="605" stroke="green" stroke-width="2"/>
  <text x="690" y="610" font-size="12">Output Signal</text>
  <line x1="20" y1="625" x2="60" y2="625" stroke="purple" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="70" y="630" font-size="12">Extended Control</text>
  <line x1="200" y1="625" x2="240" y2="625" stroke="red" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="250" y="630" font-size="12">VCC Connection</text>
  <line x1="380" y1="625" x2="420" y2="625" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="430" y="630" font-size="12">GND Connection</text>
</svg>
